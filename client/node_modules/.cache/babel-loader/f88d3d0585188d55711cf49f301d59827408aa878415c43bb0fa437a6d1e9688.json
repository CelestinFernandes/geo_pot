{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\CELESTIN\\\\Desktop\\\\geotr\\\\geo_pot\\\\client\\\\src\\\\components\\\\CameraComponent.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CameraComponent = ({\n  onPhotoCapture\n}) => {\n  _s();\n  const [hasPermission, setHasPermission] = useState(null);\n  const [isCameraActive, setIsCameraActive] = useState(false);\n  const [isCapturing, setIsCapturing] = useState(false);\n  const [currentLocation, setCurrentLocation] = useState(null);\n  const [locationError, setLocationError] = useState(null);\n  const [annotatedImage, setAnnotatedImage] = useState(null); // State for storing annotated image\n  const videoRef = useRef(null);\n  const streamRef = useRef(null);\n\n  // Get current location\n  useEffect(() => {\n    const getLocation = () => {\n      if (!navigator.geolocation) {\n        setLocationError(\"Geolocation is not supported by this browser.\");\n        return;\n      }\n      setLocationError(null);\n      navigator.geolocation.getCurrentPosition(position => setCurrentLocation([position.coords.latitude, position.coords.longitude]), error => setLocationError(\"Unable to retrieve your location. Please enable location services.\"), {\n        enableHighAccuracy: true\n      });\n    };\n    getLocation();\n    const locationInterval = setInterval(getLocation, 10000);\n    return () => clearInterval(locationInterval);\n  }, []);\n\n  // Handle video stream initialization\n  useEffect(() => {\n    const initializeVideo = async () => {\n      if (!isCameraActive || !videoRef.current || videoRef.current.srcObject) return;\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            facingMode: \"environment\"\n          }\n        });\n        streamRef.current = stream;\n        videoRef.current.srcObject = stream;\n        videoRef.current.play().catch(error => console.error(\"Error playing video stream:\", error));\n      } catch (err) {\n        console.error(\"Error accessing camera:\", err);\n        setHasPermission(false);\n        setIsCameraActive(false);\n      }\n    };\n    initializeVideo();\n  }, [isCameraActive]);\n\n  // Cleanup camera stream\n  useEffect(() => {\n    return () => {\n      if (streamRef.current) {\n        streamRef.current.getTracks().forEach(track => track.stop());\n        streamRef.current = null;\n      }\n    };\n  }, []);\n  const startCamera = () => {\n    if (hasPermission === false) return;\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    setIsCameraActive(true);\n    setHasPermission(null);\n  };\n  const stopCamera = () => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    setIsCameraActive(false);\n    setHasPermission(null);\n  };\n  const capturePhoto = async () => {\n    if (!currentLocation) {\n      alert(\"Location not available. Please enable location services and try again.\");\n      return;\n    }\n    if (!videoRef.current || !streamRef.current) {\n      alert(\"Camera not ready. Please try again.\");\n      return;\n    }\n    setIsCapturing(true);\n    const canvas = document.createElement(\"canvas\");\n    const video = videoRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n    const imageDataUrl = canvas.toDataURL(\"image/jpeg\");\n    const base64Image = imageDataUrl.split(\",\")[1]; // Get base64 string\n\n    // Send photo to backend for detection\n    try {\n      const response = await fetch('http://localhost:5000/detect', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          image: base64Image\n        })\n      });\n      const result = await response.json();\n      console.log(result.detections); // Log the detections to see results\n\n      // Set the annotated image to display it\n      setAnnotatedImage(`data:image/jpeg;base64,${result.annotated_image}`);\n\n      // After getting results, you can display them or handle further\n      onPhotoCapture(imageDataUrl, currentLocation);\n      const successMessage = document.createElement(\"div\");\n      successMessage.className = \"capture-success\";\n      successMessage.textContent = \"Photo captured successfully!\";\n      document.body.appendChild(successMessage);\n      setTimeout(() => {\n        document.body.removeChild(successMessage);\n        setIsCapturing(false);\n      }, 2000);\n    } catch (error) {\n      console.error('Error:', error);\n      alert(\"Failed to send photo for detection.\");\n    } finally {\n      setIsCapturing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"camera-component\",\n    children: [locationError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"location-error\",\n      children: locationError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }, this), !isCameraActive ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"camera-inactive\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"camera-button\",\n        onClick: startCamera,\n        children: \" \\uD83D\\uDCF7 Open Camera \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"camera-info\",\n        children: \"Click to open camera and capture your current location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"camera-active\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        className: \"camera-preview\",\n        muted: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"camera-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"capture-button\",\n          onClick: capturePhoto,\n          disabled: isCapturing || !currentLocation,\n          children: isCapturing ? \"Processing...\" : \"Take Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-camera\",\n          onClick: stopCamera,\n          children: \" Close Camera \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), currentLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"location-info\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" Current Location: \", currentLocation[0].toFixed(15), \", \", currentLocation[1].toFixed(15), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this), annotatedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"annotated-image-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Detection Results:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: annotatedImage,\n        alt: \"Annotated Result\",\n        className: \"annotated-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraComponent, \"wZsaBPCN2I40js4JeAynKrVs3Hk=\");\n_c = CameraComponent;\nexport default CameraComponent;\nvar _c;\n$RefreshReg$(_c, \"CameraComponent\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useRef","useEffect","jsxDEV","_jsxDEV","CameraComponent","onPhotoCapture","hasPermission","setHasPermission","isCameraActive","setIsCameraActive","isCapturing","setIsCapturing","currentLocation","setCurrentLocation","locationError","setLocationError","annotatedImage","setAnnotatedImage","videoRef","streamRef","getLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","error","enableHighAccuracy","locationInterval","setInterval","clearInterval","initializeVideo","current","srcObject","stream","mediaDevices","getUserMedia","video","facingMode","play","catch","console","err","getTracks","forEach","track","stop","startCamera","stopCamera","capturePhoto","alert","canvas","document","createElement","width","videoWidth","height","videoHeight","ctx","getContext","drawImage","imageDataUrl","toDataURL","base64Image","split","response","fetch","method","headers","body","JSON","stringify","image","result","json","log","detections","annotated_image","successMessage","className","textContent","appendChild","setTimeout","removeChild","children","fileName","lineNumber","columnNumber","onClick","ref","autoPlay","playsInline","muted","disabled","toFixed","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/CELESTIN/Desktop/geotr/geo_pot/client/src/components/CameraComponent.jsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useRef, useEffect } from \"react\"\r\n\r\nconst CameraComponent = ({ onPhotoCapture }) => {\r\n  const [hasPermission, setHasPermission] = useState(null)\r\n  const [isCameraActive, setIsCameraActive] = useState(false)\r\n  const [isCapturing, setIsCapturing] = useState(false)\r\n  const [currentLocation, setCurrentLocation] = useState(null)\r\n  const [locationError, setLocationError] = useState(null)\r\n  const [annotatedImage, setAnnotatedImage] = useState(null) // State for storing annotated image\r\n  const videoRef = useRef(null)\r\n  const streamRef = useRef(null)\r\n\r\n  // Get current location\r\n  useEffect(() => {\r\n    const getLocation = () => {\r\n      if (!navigator.geolocation) {\r\n        setLocationError(\"Geolocation is not supported by this browser.\")\r\n        return\r\n      }\r\n\r\n      setLocationError(null)\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => setCurrentLocation([position.coords.latitude, position.coords.longitude]),\r\n        (error) => setLocationError(\"Unable to retrieve your location. Please enable location services.\"),\r\n        { enableHighAccuracy: true },\r\n      )\r\n    }\r\n\r\n    getLocation()\r\n    const locationInterval = setInterval(getLocation, 10000)\r\n    return () => clearInterval(locationInterval)\r\n  }, [])\r\n\r\n  // Handle video stream initialization\r\n  useEffect(() => {\r\n    const initializeVideo = async () => {\r\n      if (!isCameraActive || !videoRef.current || videoRef.current.srcObject) return\r\n\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({\r\n          video: { facingMode: \"environment\" },\r\n        })\r\n\r\n        streamRef.current = stream\r\n        videoRef.current.srcObject = stream\r\n        videoRef.current.play().catch((error) => console.error(\"Error playing video stream:\", error))\r\n      } catch (err) {\r\n        console.error(\"Error accessing camera:\", err)\r\n        setHasPermission(false)\r\n        setIsCameraActive(false)\r\n      }\r\n    }\r\n\r\n    initializeVideo()\r\n  }, [isCameraActive])\r\n\r\n  // Cleanup camera stream\r\n  useEffect(() => {\r\n    return () => {\r\n      if (streamRef.current) {\r\n        streamRef.current.getTracks().forEach((track) => track.stop())\r\n        streamRef.current = null\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const startCamera = () => {\r\n    if (hasPermission === false) return\r\n\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach((track) => track.stop())\r\n      streamRef.current = null\r\n    }\r\n\r\n    setIsCameraActive(true)\r\n    setHasPermission(null)\r\n  }\r\n\r\n  const stopCamera = () => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach((track) => track.stop())\r\n      streamRef.current = null\r\n    }\r\n    setIsCameraActive(false)\r\n    setHasPermission(null)\r\n  }\r\n\r\n  const capturePhoto = async () => {\r\n    if (!currentLocation) {\r\n      alert(\"Location not available. Please enable location services and try again.\")\r\n      return\r\n    }\r\n\r\n    if (!videoRef.current || !streamRef.current) {\r\n      alert(\"Camera not ready. Please try again.\")\r\n      return\r\n    }\r\n\r\n    setIsCapturing(true)\r\n\r\n    const canvas = document.createElement(\"canvas\")\r\n    const video = videoRef.current\r\n    canvas.width = video.videoWidth\r\n    canvas.height = video.videoHeight\r\n\r\n    const ctx = canvas.getContext(\"2d\")\r\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height)\r\n\r\n    const imageDataUrl = canvas.toDataURL(\"image/jpeg\")\r\n    const base64Image = imageDataUrl.split(\",\")[1]; // Get base64 string\r\n\r\n    // Send photo to backend for detection\r\n    try {\r\n      const response = await fetch('http://localhost:5000/detect', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ image: base64Image }),\r\n      });\r\n\r\n      const result = await response.json();\r\n      console.log(result.detections); // Log the detections to see results\r\n\r\n      // Set the annotated image to display it\r\n      setAnnotatedImage(`data:image/jpeg;base64,${result.annotated_image}`);\r\n\r\n      // After getting results, you can display them or handle further\r\n      onPhotoCapture(imageDataUrl, currentLocation);\r\n\r\n      const successMessage = document.createElement(\"div\")\r\n      successMessage.className = \"capture-success\"\r\n      successMessage.textContent = \"Photo captured successfully!\"\r\n      document.body.appendChild(successMessage)\r\n\r\n      setTimeout(() => {\r\n        document.body.removeChild(successMessage)\r\n        setIsCapturing(false)\r\n      }, 2000);\r\n\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert(\"Failed to send photo for detection.\");\r\n    } finally {\r\n      setIsCapturing(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"camera-component\">\r\n      {locationError && <div className=\"location-error\">{locationError}</div>}\r\n\r\n      {!isCameraActive ? (\r\n        <div className=\"camera-inactive\">\r\n          <button className=\"camera-button\" onClick={startCamera}> 📷 Open Camera </button>\r\n          <p className=\"camera-info\">Click to open camera and capture your current location</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"camera-active\">\r\n          <video ref={videoRef} autoPlay playsInline className=\"camera-preview\" muted />\r\n          <div className=\"camera-controls\">\r\n            <button className=\"capture-button\" onClick={capturePhoto} disabled={isCapturing || !currentLocation}>\r\n              {isCapturing ? \"Processing...\" : \"Take Photo\"}\r\n            </button>\r\n            <button className=\"close-camera\" onClick={stopCamera}> Close Camera </button>\r\n          </div>\r\n          {currentLocation && (\r\n            <div className=\"location-info\">\r\n              <p> Current Location: {currentLocation[0].toFixed(15)}, {currentLocation[1].toFixed(15)} </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      {/* Display the annotated image if available */}\r\n      {annotatedImage && (\r\n        <div className=\"annotated-image-container\">\r\n          <h3>Detection Results:</h3>\r\n          <img src={annotatedImage} alt=\"Annotated Result\" className=\"annotated-image\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CameraComponent"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}